---
import '../components/blog/postList.css'
import Base from '../components/Base.astro'
import PostListItem from '../components/blog/PostListItem.astro';
const allPosts = await Astro.glob('../pages/blog/*.md');
const sortByDate = (posts) => {
  return posts.sort(
    (a, b) =>
      new Date(b.frontmatter.pubDate).valueOf() -
      new Date(a.frontmatter.pubDate).valueOf()
  );
};
const sortedPosts = sortByDate(allPosts);
---

<Base>
    <h1>Blog</h1>
    <div style="margin-left: 2em; margin-right: 1em;">
        <p>
            Cupcake ipsum dolor sit amet.
            Biscuit gummi bears cookie liquorice shortbread brownie candy I love.
            Gingerbread macaroon croissant candy croissant.
        </p>
        <p>
            Macaroon icing tiramisu danish gummi bears apple pie tiramisu.
            Tootsie roll cake danish shortbread carrot cake.
            Apple pie cookie cheesecake jelly beans wafer chocolate bar.
            Muffin sweet roll sweet sesame snaps powder.
        </p>
        <p>
            Muffin dessert bear claw toffee icing jelly ice cream cookie.
            Fruitcake pudding bear claw jelly beans icing souffl√© biscuit gummi bears pudding.
            Croissant powder chocolate cake sugar plum shortbread I love chocolate.
            Marshmallow chocolate bar lemon drops topping chocolate cake.
        </p>
    </div>
    <h2>Posts</h2>
    <ul class="post-list">
        {sortedPosts.map((post) =>
            <PostListItem url={post.url} frontmatter={post.frontmatter}/>
        )}
    </ul>
</Base>
